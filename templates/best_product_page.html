<!DOCTYPE html>
<html lang="en">
{% load static %}
<head>
  <title>{{ product.name }} - Just Lib Bling</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="{% static 'css/style.css' %}">
  <style>
    .image-holder img,
  .gallery-thumbnails img {
    transition: transform 0.3s ease;
    cursor: zoom-in;
  }

  .image-holder img:hover,
  .gallery-thumbnails img:hover {
    transform: scale(1.2); /* You can adjust scale as needed */
    z-index: 10;
  }

  .gallery-thumbnails div {
    transition: transform 0.3s ease;
  }

  .gallery-thumbnails div:hover {
    transform: scale(1.1);
    box-shadow: 0 4px 8px rgba(0,0,0,0.2);
  }
    </style>
</head>
<body>
  {% include 'nav.html' %}
  <div class="modal fade" id="imageZoomModal" tabindex="-1" aria-labelledby="imageZoomLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content bg-transparent border-0">
        <div class="modal-body p-0 text-center">
          <img id="zoomedImage" src="" alt="Zoomed Product" class="img-fluid" style="max-height: 90vh; border-radius: 10px;">
        </div>
      </div>
    </div>
  </div>

  <section id="product-details" class="py-5">
    <div class="container">
      <div class="row">
        <div class="col-md-6">
          <div class="col-md-6">
            <div class="image-holder mb-3" style="overflow: hidden; border-radius: 10px;">
              <img src="{{ product.image.url }}" alt="{{ product.name }}" class="img-fluid w-100" style="border-radius: 10px;" onclick="openZoomModal(this.src)">

            </div>
          
            <!-- Gallery Images -->
            {% if product.gallery_images.all %}
            <div class="gallery-thumbnails d-flex flex-wrap gap-2">
              {% for img in product.gallery_images.all %}
              <div style="width: 100px; height: 100px; border: 1px solid #ddd; border-radius: 5px; overflow: hidden;">
                <img src="{{ img.image.url }}" alt="Gallery" style="width: 100%; height: 100%; object-fit: cover;" onclick="openZoomModal(this.src)">
              </div>
            {% endfor %}
            </div>
            {% endif %}
          </div>
        </div>
        <div class="col-md-6">
          <div class="product-content py-4">
            <h1 class="element-title text-uppercase">{{ product.name }}</h1>
            <p class="category"><strong>Category:</strong> {{ product.get_category_display }}</p>
            <p class="gender"><strong>For:</strong> {{ product.get_gender_category_display }}</p>
            <p class="color"><strong>Color:</strong> <span style="color: {{ product.color }};">&#11044;</span> {{ product.get_color_display }}</p>
            <p class="price"><strong>Price:</strong> â‚¹{{ product.price }}</p>
            <p class="stock"><strong>In Stock:</strong> {{ product.stock }}</p>
            
            {% if product.size %}
            <p class="size"><strong>Size:</strong> {{ product.size }}</p>
            {% endif %}

            <p class="description">{{ product.description }}</p>
            
            <div class="btn-left mt-4">
              <a href="{% url 'add_to_cart' 'bestproduct' product.id %}" class="btn btn-primary text-uppercase">Add to Cart</a>
          </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <script>
    function openZoomModal(src) {
      const zoomedImage = document.getElementById("zoomedImage");
      zoomedImage.src = src;
      const modal = new bootstrap.Modal(document.getElementById("imageZoomModal"));
      modal.show();
    }
  </script>
  {% include 'footer.html' %}
</body>
</html>
